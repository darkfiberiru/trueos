commit 238042d28b85277a4b5f19c3d13c4331b1325662
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    openrc-init: fix waitpid checks
    
    The do_openrc() function was not waiting properly for the child process
    which started the runlevel to return. We need to repeatedly call
    waitpid() until its return value matches the pid of the child process or
    the child process does not exist.
    
    This fixes #216.
    This fixes #300.

commit 8d6370d4693f6f8397b808059e5fe436c8dc8993
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    version 0.41.1

commit 75ce3addd2be964ce271858af08e7f750365916a
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    update ChangeLog

commit d818be6e2bc00c790f6f4aeb2670f007951b2ab3
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    librc: fix potential buffer overflow in pid_is_argv
    
    This fixes #299.

commit b812524303ae42bf7f61a642c45e8be39aa222e5
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Revert "src/librc/librc-daemon.c: fix buffer overrun in pid_is_argv"
    
    This reverts commit 084877eb52971faf8f52c780ddd08ed9af140eb6.
    The mentioned commit caused some systems to have some services reported
    as crashed.
    
    This fixes #297.
    This fixes #298.

commit 56c006ebd68d572e303c01c38291a1f5f4fc1c30
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Update ChangeLog

commit 067088bbff42ca2fb9106acf309f1d9ce3e78ada
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    move ci scripts to their own directory
    
    This fixes #296.

commit 52d4e566743f57b9de81c77fdb605c171c02eacb
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    combine test directories
    
    This fixes #295.

commit 6e6902c28b715826fdfc7b42a592db88459b9a57
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    remove unused test ignore patterns

commit 084823182aec4aef6fb880d642bba2d0ef91a3ad
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    remove unused test data files

commit 7478c104fc479067d71d191dccfa4cbf541311d8
Author: Georgy Yakovlev <gyakovlev@gentoo.org>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    librc/librc-depend.c: fix NULL pointer dereference
    
    In some cases deptree or depinfo can be NULL, check
    before dereferencing.
    
    Fixes https://github.com/OpenRC/openrc/issues/293
    Fixes https://github.com/OpenRC/openrc/pulls/294
    X-Gentoo-Bug: 659906
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/659906

commit 065b7ecc0d4ddd046cc235d60de20140db1a6fe8
Author: Georgy Yakovlev <gyakovlev@gentoo.org>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    use cirrus-ci for FreeBSD builds
    
    This fixes #265.

commit b054aca50b31fc46fc736a542ec2719de2d23d30
Author: Sergei Trofimovich <slyfox@gentoo.org>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    src/test/runtests.sh: drop 'readelf'-based tests
    
    The 'readelf'-based tests cover a few situations:
    1. undefined symbols in shared libraries
    2. unexpected exports in shared libraries
    
    Bug #575958 shows that [2.] implementation is too simplistic
    in assuming that presence of relocation equals to export presence.
    
    It is incorrect for PLT stubs and local symbols.
    Let's just drop these tests.
    
    If one needs to cover [1.] it is better to use LDFLAGS=-Wl,--no-undefined.
    
    This closes #292.
    
    X-Reported-by: Benda Xu
    X-Gentoo-Bug: https://bugs.gentoo.org/575958
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/575958

commit f9e7a00ba9c9b179c697fc0af83a19e923c831b0
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-status: style fixes

commit f1f48011acb266db309922f145653b86f11e0baf
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    update ChangeLog

commit 427a1ce2995b376ed6d112c5c5b422217f815fbb
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-status: add -f option to allow formatting output
    
    The -f option can be used when showing the status of services in
    runlevels to allow making the output more easily parsable.
    Currently, the .ini format is the only one supported.

commit f43cec34ca0201031fc10b584bcb391859f302cd
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-status.c: small style changes

commit d64c9d205083ca82823f9f5ff178a5581f6c8b2a
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    add experimental support for an alternate shell for service scripts
    
    This is for #288.

commit b2b2c57a3898c945b33b8bf0a10b658483be09c1
Author: Edan Bedrik <3d4nb3@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    librc: fix realpath() return value check
    
    This fixes #226.

commit 155b8451945f8a17cd61ad56be3bb09541c3719a
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    improve shutdown documentation
    
    This fixes #290.

commit 9b578808fb67682780adb17157330934a5c2cce7
Author: Austin English <austinenglish@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    travis: try enabling musl-gcc
    
    This fixes #261.

commit 03164dd38d9e8d9a93141e5d6b495f306875bcd9
Author: Austin English <austinenglish@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    fix build with muslc
    
    This fixes #261.

commit 2b82766452adec4eb99f61902d62f0fa2e369fa4
Author: Austin English <austinenglish@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    test/skel.runtests.sh: remove unused file
    
    git grep shows no usage, and `make test` passes
    
    This fixes #256.

commit 3eef6e91274f2e07bd566f206e89d9b0b9c45fb9
Author: Felix Neumärker <xdch47@posteo.de>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    zsh-completion: _rc-service support extra actions
    
      - use rc-service <service> describe to get action list
    
    This is for #285.

commit 77f09900a2e0eeb1475e9ee404b6e7ff76ff8e9d
Author: Felix Neumärker <xdch47@posteo.de>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    zsh-completion: _rc-service fix flag/command combinations
    
      - handle `rc-service -<flag> <service> <action>` correctly
    
    This is for #285.

commit 50d77a4e5d8c321cc89565295db13e60b2fb2cc7
Author: Kim Jahn <kim@maisspace.org>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    man/openrc.8: add openrc-run.8  to see also
    
    This fixes #283.

commit 2d31b0a3f8b4be7290e596cb7072b78361e1734b
Author: Mike Frysinger <vapier@gentoo.org>
Commit: Mike Frysinger <vapier@gentoo.org>

    man: supervise-daemon: fix various style issues
    
    The .Dt header is supposed to be all caps.  This was mixing case.
    
    The options block was being incorrectly indented due to a missing .El.
    
    Some of the new options were missing the .It block, so add that.
    
    Finally, the -D option was missing capitalization.

commit b84d0bac4d3f23ff969827d74808fd7bd1c621c3
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    travis-ci: add IRC notifications

commit 1ff3a37c60e89da31c5c06bb4edd184770c91923
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    start-stop-daemon: fix compiler warning

commit 7e95d924c9067d9d643fc3b533f777ea7a5234d7
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    bash-completions/rc-service: allow tab to be used again
    
    X-Gentoo-Bug: 670290
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/670290

commit a15b532a02094b3afe9d698f6b98e70f0fd4506a
Author: artoo <artoo@artixlinux.org>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    scripts: fix halt, poweroff and reboot wrappers
    
    These are designed to emulate the sysvinit equivalents, so pass "now" as
    the time argument if no arguments are given.
    
    This fixes #268.

commit 3e00fbc9b08dde9e2c7fc26ecb9e831417012dd1
Author: philhofer <phofer@umich.edu>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    fix leading whitespace
    
    Clean up code indented with mixed tabs and spaces.
    No actual code changes.
    
    This fixes #280.

commit 846e4600754dab3f0cb49edb4ad9e2b2b73d3f47
Author: philhofer <phofer@umich.edu>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    fix potential out-of-bounds reads
    
    readlink(3) does not nul-terminate the result it sticks
    into the supplied buffer. Consequently, the code
    
      rc = readlink(path, buf, sizeof(buf));
    
    does not necessarily produce a C string.
    
    The code in rc_find_pid() produces some C strings this way
    and passes them to strlen() and strcmp(), which can lead
    to an out-of-bounds read.
    
    In this case, since the code already takes care to
    zero-initialize the buffers before passing them
    to readlink(3), only allow sizeof(buf)-1 bytes to
    be returned.
    
    (While fixing this issue, I fixed two other locations that
    used the same problematic pattern.)
    
    This fixes #270.

commit a32b14bbb43e9888acaaea6f764fb8dcb34fb941
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Do not use UT_LINESIZE or __UT_LINESIZE
    
    These are not standard.
    For more information see issue #279.
    This fixes #279.

commit 084877eb52971faf8f52c780ddd08ed9af140eb6
Author: philhofer <phofer@umich.edu>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    src/librc/librc-daemon.c: fix buffer overrun in pid_is_argv
    
    The contents of /proc/<pid>/cmdline are read into
    a stack buffer using
    
      bytes = read(fd, buffer, sizeof(buffer));
    
    followed by appending a null terminator to the buffer with
    
      buffer[bytes] = '\0';
    
    If bytes == sizeof(buffer), then this write is out-of-bounds.
    
    Refactor the code to use rc_getfile instead, since PATH_MAX
    is not the maximum size of /proc/<pid>/cmdline. (I hit this
    issue in practice while compiling Linux; it tripped the
    stack-smashing protector.)
    
    This is roughly the same buffer overflow condition
    that was fixed by commit 0ddee9b7d2b8dea810e252ca6a95c457876df120
    This fixes #269.

commit 97e74f97347f5798e01a47057efab00906754546
Author: philhofer <phofer@umich.edu>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    src/rc/supervise-daemon.c: formatting fixes
    
    Fix misleading indentation and other erroneous whitespace.
    This fixes #273.

commit d328de198d0ad980188b105decc09405652aa3d6
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    remove /run migration script again
    
    This time it was done correctly.
    I missed a '\' the last time.

commit a9fc26ac1367ac887eab76007e8834dfe787edcd
Author: philhofer <phofer@umich.edu>
Commit: Mike Frysinger <vapier@gmail.com>

    src/rc/supervise-daemon.c: do not pass NULL to strcmp
    
    The following will cause a segfault due to NULL being
    passed to strcmp(3)
    
    $ RC_SVCNAME=foo supervise-daemon
    
    Fix the bounds check on argc in main. If argc<=1, then
    it is not safe to dereference argv[1].

commit 40f70466969b340ee5e277c98a4b27a9117b795e
Author: philhofer <phofer@umich.edu>
Commit: Mike Frysinger <vapier@gmail.com>

    src/rc/openrc-run.c: remove duplicate statement
    
    The statement
    
      ll = strlen(applet);
    
    appears twice in the same block without any
    intervening assignment to the variables
    'll' or 'applet'
    
    Remove the second (duplicate) statement.

commit 894995176e827eef16bf90b6479b7c285677ceef
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Revert "remove /run migration script"
    For some reason removing this broke the build.
    
    This reverts commit 5246ea7b6f8c6a247403f725f8301457f6ddfffd.

commit 5246ea7b6f8c6a247403f725f8301457f6ddfffd
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    remove /run migration script
    
    We have used /run for some time now and we have had this migration
    script for 6 years. Linux users should have upgraded by now to a version
    of OpenRC which stores its information in /run.

commit ed8b768c4a68042eed0c21c8305640841b22f006
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    fix compiler warnings

commit 825caa14de6160c966d44d64d5c0254f4038d9a0
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: do not use the exec_service() function
    
    In order to run healthcheck() and the unhealthy() function, add an
    exec_command call to the supervisor.
    Another difference is This function also logs errors instead of
    attempting to display them.
    
    This is for #271.

commit d5c396cbfc49ce88f58d944c8ab01d2c36ccdc7b
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Add debug logging to start-stop-daemon and rc-supervisor
    
    This will make it easier to track down why the supervisor intermittently
    hangs after it runs for a long time.

commit 5427783fdf3d183ea4e63afc507c31d88f0d2c9c
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    standardize the default shell
    
    I do not know of a need to have the default shell be a build-time
    configurable setting. All *nix systems I am aware of have /bin/sh as a
    default posix compatible shell.
    If some systems running OpenRC do not make that assumption about
    /bin/sh, I will consider bringing this back, so feel free to open an
    issue.

commit d95425b08a1675efb66def056d0f92e6b2d78a77
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-cgroup.sh: remove shebang line
    
    This is not a stand-alone script, so it does not need the shebang line.
    This also means it is not necessary to run this through sed.

commit 76420d9849e6832a52aa4c1ba1fd2895b7d51a08
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    init.d/agetty: set default respawn period to 60 seconds
    
    Without a respawn period setting, the supervisor will give up on
    respawning agetty after it is respawned respawn_max times. For most
    daemons giving up like this is reasonable, but not for agettys. Agettys
    should always be respawned unless they are respawning too fafst,.
    
    If an agetty is respawning faster than 10 times in 60 seconds, this
    seems to be too fast.

commit bebc604438f9586f26d0cad8bd72749ae84b4335
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: fix busy loop
    
    This fixes #264.

commit 9dae4f2e38ceae227933673e25db9583e8f610a6
Author: Alexander Zubkov <green@msu.ru>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: redirect std{in,out,err} to /dev/null after demonizing
    
    This fixes #239.

commit d126542dc626c8295b0f2cfcdee7bf5aa79daff1
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    version 0.41

commit ab6c8d56f155564f56d61553c4b1af9e7f63a9d2
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Update ChangeLog

commit fb4dd351c7ef2614076309d630e163ff963ac8bf
Author: Austin English <austinenglish@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    misc: make checks always fatal
    
    This fixes #263.

commit 10dc65cc46e4f16f1b1f9822f3b687f2e58e4b40
Author: Austin English <austinenglish@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    src/rc/supervise-daemon.c: fix style issue
    
    This is for #263.

commit 9a2115f7620b33e03592fb1eabe5a613984a9894
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-status: show status for supervised services instead of a list

commit eeba6df4761777be5af7f9a2876223155921ee37
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Update supervise-daemon man page

commit ac42e81a6419b281ed3f62900e29a5a802106dce
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon.sh: drop the unused stopsig variable

commit af70862a7a115d6269affca663423e9340d6e929
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: use a default pid file if one is not specified
    
    Since the pid file is internal to us, start moving toward deprecating it
    by not requiring the user to specify it.
    In the next release, I plan on working on code to start phasing out the
    use of a pid file if this is possible.

commit fa6611b5af94548e901e587fcd36f4fb59124975
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-status: add --supervised option to show supervised services

commit db01442580847d36f232527200e50091431c32b5
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-status: show failed services as failed

commit ebf79db79eaa2df0ceb62b4edbef94e68a28b612
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: mark a service failed if it respawns too many times

commit 1b5a3b4ef4b2c3e20cfe4a71cf38c63279ed42d2
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: make respawn-max and respawn-period independent settings

commit 77262c359c4aaf15ba00b07cd51f3987ce514769
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: add support for a fifo
    
    This will allow us to signal the daemon we are supervising as well as
    send other commands to the supervisor in the future.
    
    This fixes #227.

commit 7f23e0461d6c6d24f5cfa39b9e404a7ec9cfd9c1
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: rework signal handling and main loop
    
    This is needed in preparation for adding support for a fifo to allow us
    to communicate with the supervisor to ask it to signal the child it is
    supervising.

commit ff4af908a58eedf9a165946f109f06add23fff9c
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Revert "checkpath: use O_PATH when available"
    
    This reverts commit 2af0cedd5952d7da71681b7a636dff3540e4295d.
    
    After speaking with Luis Ressel on the Gentoo selinux team, I am reverting
    this commit for the following reasons:
    
    - Luis told me that he feels this is not the solution we need to address
      the concern with checkpath; I will be working with him on another
      solution.
    
    - There are concerns about the way the path variable was handled
      and the assert() call.
      The path variable should be dynamically allocated using xasprintf
      instead of defining a length at compile time. This would eliminate the
      need for the assert() call.
    
    - It introduces the definition of _GNU_SOURCE which makes it
      easier to introduce portability concerns in the future (see #262).

commit 2af0cedd5952d7da71681b7a636dff3540e4295d
Author: Mike Gilbert <floppym@gentoo.org>
Commit: Mike Frysinger <vapier@gmail.com>

    checkpath: use O_PATH when available
    
    This avoids opening directories/files with read permission, which is
    sometimes rejected by selinux policy.
    
    Bug: https://bugs.gentoo.org/667122

commit ee41e444ad18192fa34f598464e3ac52f323e27e
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc.conf: typo fix
    
    X-Gentoo-Bug: 670874
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=670874

commit b7828651babd20fb6cc11aed91721e103ccbb3e1
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: fix type of exiting flag

commit e96f7d5658950ddee68e54fba4b6321b9a6a2ed8
Author: Austin English <austinenglish@gmail.com>
Commit: Mike Frysinger <vapier@gmail.com>

    src/tests/runtests.sh: add a FATAL_CHECKS variable to make whitespace/etc. fatal

commit 28b73fc524096d5b2205fea25943410725d6227f
Author: Austin English <austinenglish@gmail.com>
Commit: Mike Frysinger <vapier@gmail.com>

    src/rc/openrc-shutdown.c: fix style

commit 7a00c63420f81797b3e0cc402f756b63fe06f7d4
Author: Austin English <austinenglish@gmail.com>
Commit: Mike Frysinger <vapier@gmail.com>

    fix misc whitespace issues

commit f4597c546a998085e09880aa6663d1d6ee05fac4
Author: Austin English <austinenglish@gmail.com>
Commit: Mike Frysinger <vapier@gmail.com>

    give TravisCI a try

commit e10afc8e757fb914e632e9c40fc6e589e6d47580
Author: Austin English <austinenglish@gmail.com>
Commit: Mike Frysinger <vapier@gmail.com>

    sh/functions.sh.in: return a different value for invalid input in yesno()

commit 0f704402a236d385e8b30083ccf9aca327c0a57e
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: make the pidfile an implementation detail
    
    The pidfile of the supervisor doesn't need to be adjustable by the
    service script. It is only used so the supervisor can stop itself when
    the --stop option is used.

commit 2504a2c25bc0587b36d81a2d85c203b20e2d40cf
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Do not complain if interrupted by a signal
    
    In start-stop-daemon and rc-schedules, we were printing out a warning if
    the nanosleep call was interrupted by a signal, but we did not treat
    this as an error situation other than displaying the message, so there
    is no need for the message.

commit 7eb3975543eafd44c6946ca5a76812aa0d7a7303
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Create save-keymaps and save-ktermencoding services
    
    These services represent the parts of the keymaps and termencoding
    services which saved the settings back to the root file system so they
    can be loaded very early in the boot process.
    These are needed to allow keymaps and termencoding to run earlier in the
    boot sequence.
    
    X-Gentoo-Bug: 446018
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=446018

commit 60e60dc9bbf0e3a18d897861367d9289ae8006d6
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon.sh: drop invalid --signal switch
    
    This fixes #230.

commit 008c9d0036e348242e323c0b5a66f3724b4a839d
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: reap zombies
    
    We need to make sure to reap zombies so that we can shut down
    successfully.
    
    Fixes #252.
    Possibly related to #250.

commit 025c9693ccab9c6220520ace47aa81553e7ea600
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-service: fix help output

commit ee3c4afdb75b98cd472b7ffbb46adc9d8a1e1b15
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    openrc-init: add SELinux support
    
    This is for #173.

commit e2416d089396e2b9a72cc56ef9f57886ffb0f1c8
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    openrc-shutdown: do not require a time for -w switch
    
    X-Gentoo-Bug: 669500
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=669500

commit a2bcfeb42882b40ca23ddfefca2a17a7988f8082
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    version 0.40

commit 53f7afd3b3daf659d58d6545dc79cd45c4c54277
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Update ChangeLog

commit 75e9b66f6ff36d06bf1f8bd4824000f9f26106e0
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    news.md: add information about the modules service changes

commit d70b1c55b67b44b98c23ceed25bc428481f7e00a
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    modules: Add --first-time switch to modprobe commands
    
    On Linux, kernel modules should be loaded once during boot, either in an
    initramfs or by this service.
    
    This does not change anything other than printing out messages if a
    module is loaded more than once.
    
    X-Gentoo-Bug: 659530
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=659530

commit c1e582586d398b4452f568240985247294f645ef
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: add health checks
    
    Health checks are a way to monitor a service and make sure it stays
    healthy.
    
    If a service is not healthy, it will be automatically restarted after
    running the unhealthy() function to clean up.

commit 7a75bfb00c52687a236c92bec78b5e7ab4844701
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    news.md: add note about scheduled shutdown

commit aacf841de4983ab33755081a6f69cdf5e3a47007
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon-guide.md: re-format and add more variables

commit 3f918161aafa61c1c2005709fda0b9bec4c412d8
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    openrc-shutdown: Add scheduled shutdown and the ability to cancel a shutdown
    
    You can now schedule a shutdown for a certain time or a cpecific number
    of minutes into the future.
    
    When a shutdown is running, you can now cancel it with ^c from the
    keyboard or by running "openrc-shutdown -c" from another shell.

commit 710c874e6e3bc57b1561eb8f2108244bf24ed32e
Author: Zac Medico <zmedico@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: fix respawn_max off by one
    
    Fix the comparison between respawn_count and respawn_max so that
    respawn_max = 1 will allow for one respawn. Since respawn_count is
    incremented before the comparison, use a 'greater than' comparison
    so that respawn will be triggered when respawn_count is equal to
    respawn_max.
    
    Fixes: https://github.com/OpenRC/openrc/issues/247
    Fixes: https://github.com/OpenRC/openrc/issues/248

commit 07908be0903229a69b9e0f733ed13eeff0b55a44
Author: Austin English <austinenglish@gmail.com>
Commit: Mike Frysinger <vapier@gmail.com>

    misc: style fixups

commit 02af093043a7444381b0d8a0a3e8e97247505f95
Author: Austin English <austinenglish@gmail.com>
Commit: Mike Frysinger <vapier@gmail.com>

    misc: whitespace fixes

commit 67e2d6033dd7ac6db0269ee060ed20484825ff9f
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Complete implementation of forever timeout value in stop schedules

commit eca4357892315ca7340bbfc2b373d7660a34142f
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: use nanosleep() instead of sleep()
    
    We will be using sigalrm in this process for health checking, and
    sigalrm cannot be used with sleep() safely.

commit 7ee3e5b2d6dbb9c279011b59ec132d27d04f843e
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    openrc-init: convert sleep() call to nanosleep()
    
    Nanosleep is the safer call to use in case we need to use alarms
    eventually.

commit 7cb8d943236fe651ac54c64f8167f7c4369f649c
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Stop mounting efivarfs read-only
    
    We do not need to do this any longer since all supported linux kernels
    make efivarfs immutable and the tools that manipulate it are aware of
    this feature.
    
    This fixes https://github.com/openrc/openrc/issues/238.

commit 84ed570eaefcbb55b99ba425030bf7d1d1d46137
Author: Zac Medico <zmedico@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    librc: fix EACCES errno false-positive crash
    
    Use errno != EACCES to fix false-positive for non-root users
    with grsecurity kernels.
    
    Fixes: 37e29442721a ("librc: Add check for crashed state")
    This fixes #237

commit 2eea73bfd5ce2f9993d52293fe7d25c0c804d592
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-functions.sh: Remove addon support
    
    This is an old relic from Gentoo baselayout-1.x which should not be used
    any longer.

commit a571a42421b337380b6f5751635c55906bb8b508
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    modules: remove the ability to rename modules on the fly
    
    Kmod doesn't support the -o switch, so if you have been using this your
    module loads have been failing.

commit 79648ac1c6355975abca6acf6076e7022037523f
Author: Holger Hoffstätte <holger@applied-asynchrony.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-status: initialize uptime pointer to prevent memory corruption
    
    This fixes #231.

commit 02af762e83640ec23bf64c5b814f0d3424d90e10
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    version 0.39

commit 01c34c28e6d6d7bfecc0f88bdf1fb15e97ab8823
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Update ChangeLog

commit 56ddda54b5aa01474bf563d5a662075c35152858
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon.c: clean up memory leaks

commit 3a803b3135837665d51ef4dd7a8b913c78e71ff6
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    librc-daemon.c: fix memory leaks

commit 72df51e17ba0e1a0f94451b4bbfb338288c4625c
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    librc-daemon: convert most snprintf calls to xasprintf

commit b2f5531194e33c229462e9f52fa1d9388463f7b7
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    librc-misc: convert snprintf calls to xasprintf

commit 19bf49a710f27d4774ed4c6372d87d6ba15f189e
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    libeinfo: convert remaining snprintf calls to xasprintf

commit 64354831da2adeba5cb2f91a81fa0f56e1ce4ed9
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    openrc: convert snprintf calls to xasprintf

commit e14edd765fdc4ed43356d2eef35fa99228e5d461
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: convert snprintf calls to xasprintf

commit f9d41243d8499c5d7027177d5aa716d5b5859cd6
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    start-stop-daemon: convert snprintf calls to xasprintf

commit be7ad06d4a0efce2a1144b2cf6f0cc361f2a81e4
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-status: convert snprintf calls to xasprintf

commit a6165168953b9c7a62c089ce946476b23b73fb12
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-status: fix gcc 7 warnings

commit 04721ece03b15503aa220f60e7c6159d01ee75e1
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    start-stop-daemon: fix gcc 7 warnings

commit c7e8f1133a42152cc293e6b637985f81bcf8b310
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    checkpath: fix gcc 7 warnings

commit 47e4bfae57402eedd017d6098b432c2c411cd374
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    fix gcc 7 warnings in pipe routines

commit 8a945194afb106428bc700e751078ef9944ee617
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    libeinfo: clean up gcc 7 compiler warnings

commit aa4a004c297ec7a1fb794ad2e53ef3ac8b3f4fd1
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    version 0.38

commit 9ec5d36bdddf5bb0e96b0c561bc5d013a8a2da2a
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Update ChangeLog

commit a097933edab9d7221df1831e098415d604437c98
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    sh/start-stop-daemon.sh: fix processing of the logger arguments

commit a6f5b1bb63070c24145df72040fa7b465948003c
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Update ChangeLog

commit e6d01471fe2a8eb8a15bb906d7c91c11805d1bef
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    start-stop-daemon: add ability to log stdout or stderr to processes

commit d4501a9f06c807f87be04f128e535a74b370fdb4
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    fix a typo

commit ec8abea4605395a2a59b26906ce4677a578e3c60
Author: Mike Gilbert <floppym@gentoo.org>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Add helper to spawn process with stdin connected to a pipe

commit e4ddfa38e0e0318abf442b7aa07e0d8206191dd7
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    user-guide.md: small cleanups

commit 21d30bc6d9caca31d007631717a480a552b89701
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    service-script-guide.md: small cleanups

commit 2a1ff6e49c6603bb81eec3cafe2c587fa734289f
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    version 0.37

commit 6762cb875c9c039b79dcc447b9d0eb65356a7708
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Update ChangeLog

commit 6edf516a1fe0ad4f4e8738f9fdd1bf0bc7718361
Author: Austin English <austinenglish@gmail.com>
Commit: Doug Freed <dwfreed@mtu.edu>

    sh/supervise-daemon.sh: use start_stop_daemon_args if supervise_daemon_args is undefined

commit 7e56a49e23c810673b83e48eb9ca36229bb4016e
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Logger: only log printable characters and newlines
    
    X-Gentoo-Bug: 651412
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=651412

commit fa5aea80c50fb724d2c98a6542307adbafd0e62d
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    openrc-run.sh: move crashed test outside started test
    
    This is handled inside librc, so we don't need the nesting in this
    script.

commit 0f4fa41574a4ebf8117493e5411f8ab522010467
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Add mark_service_crashed binary

commit 5d6dd97bba3559b57fb1c1de35e644c6dbd6baa7
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-misc: add the crashed state

commit 37e29442721af0dc3846e87ef2b85a474af3cf2b
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    librc: Add check for crashed state
    
    In rc_service_state,, call rc_service_daemons_crashed to check for
    a crashed daemon if the service is started.

commit 4e0eace837287845504c9895429dc9f64872d075
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    librc: Add crashed state

commit faa8318b3ba278544413a39d4a5ae4457711793f
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Remove the _rc_can_find_pids function
    
    This test to find if we could see pid 1 was being used inconsistently in
    rc-status and mark_service_crashed to decide whether we could test to
    see if the daemon for the service was crashed, and it was not part of
    the librc library.
    
    I am removing it from the executables because of inconsistent usage. I
    will add it to the library if it is needed there.

commit 08da36149c0b41c64a09369c3eef5e2f5a6fa39c
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-service: add --ifstarted and --ifstopped options

commit 56870d0db18209396f8276bdc05d413fe4dd7a88
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Man: rc-service man page cleanups

commit 4d47ce440c3e8f193cff82a77e6691ee6e7fac33
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-service: add -d/--debug and -D/--nodeps options

commit 958f57d895b6573b39e62097e5e9881f16174715
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    openrc-run: respect the RC_NODEPS environment variable

commit 04886efd85328988657c34440da9ba6aa2841cfd
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Add RC_DEBUG and RC_NODEPS to environment whitelist
    
    These are needed so rc-service can pass debug and nodeps options to
    openrc-run.

commit d980798d6444bbfc508796a233e962bf4dd61275
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    openrc-run: respect the IN_DRYRUN environment variable
    
    This allows rc-service to pass the tryrun option to openrc-run.
    
    This is for #225.

commit 414a9aae6ce066d2a6ad42e7e24d1c12a7b46409
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-misc.c: Add IN_DRYRUN to environment whitelist
    
    This allows rc-service to pass the dryrun option to openrc-run.
    
    This is for #225.

commit a7f475ca04856ef8232364c5b0c3191566b0696c
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    rc-service: add a --dry-run option
    
    This is for #225.

commit 3c53680018c1799d0d804e241a9fa4d3b9423896
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    build: standardize installation modes
    
    Gentoo was changing some of our installation modes from 0444 to 0644.
    There isn't a reason to install things 0444, so we are switching these
    to 0644 so the Gentoo ebuild doesn't need this extra step.

commit f0ad647303daca528cb9b75f9a07d422318635c2
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Revert "savecache: stop saving the dependency tree"
    
    It is safe to save the deptree, but we also need to regenerate it at
    boot time.

commit b35e03b6b1acc841ac33f601dd39c1152523621e
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Revert "Logger: only log printable characters and newlines"
    
    This reverts commit 2b1392af2fe9e5dfc8eda2f19d896efdc41840bf.
    This seems to create issues shutting down, so I need to look into it
    further.

commit 2b1392af2fe9e5dfc8eda2f19d896efdc41840bf
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Logger: only log printable characters and newlines
    
    X-Gentoo-Bug: 651412
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=651412

commit a3d0e293eebcb92564c473e61ca42724844fb279
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Remove localmount from dependencies for linux-only services
    
    This removes localmount from the dependencies of the consolefont,
    keymaps, numlock and procfs services.
    
    These services are Linux only and the default modern linux system has /
    and /usr on the same file system.
    
    This also fixes the following issue.
    
    X-Gentoo-Bug: 651998
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=651998

commit 0200002b8cbd061ac79b6aed4024220cd0386d2c
Author: Andrey Utkin <andrey_utkin@gentoo.org>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    start-stop-daemon: don't fail stopping if pidfile is gone
    
    If pidfile does not exist when we are stopping the daemon, assume it is
    already stopped, and report success.
    
    hostapd is an example of a daemon which removes its pidfile when it is
    exiting. If this daemon terminates prematurely, that is, without s-s-d
    involvement, then openrc fails to restart it, because s-s-d "stop"
    command fails when pidfile is missing.
    
    X-Gentoo-Bug: 646274
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/646274

commit f4e2142089487b7f5c99da949d7bf8d038724df7
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Add _POSIX_C_SOURCE definition to Linux build
    
    We need this to allow builds on uclibc-ng based systems.
    
    X-Gentoo-Bug: 650908
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=650908

commit 49a90f27a848ba02a363fc0c844d6284728bdd73
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    typo fix

commit 2ae60ca0419d60c86904a8e15e71e902549e18d4
Author: Scall <Scall@users.noreply.github.com>
Commit: Doug Freed <dwfreed@mtu.edu>

    rc-update: fix typo

commit 6b475ab26992f1dd8815700828df46abc4b71d27
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    init.d/modules: add code from modules-load service
    
    There is no reason for these to be separate services. I did add a
    provide so that we don't break backward compatibility.

commit b302b0c094c2c99b810aec9c8877adcd1effabac
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    net-online: always start after net
    
    X-Gentoo-Bug: 650600
    X-Gentoo-Bug-URL: https://bugs.gentoo.org/show_bug.cgi?id=650600

commit 40aa69cf3a99fa080375a702631da4d2311ebf3e
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    agetty.in: allow status to be displayed

commit 5346fbf2c90b33b3abc01588e4727d4402f8db62
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: fix off-by-one error

commit 92e6bdee12fa9d87a2535446ceccee261305e87c
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Use _BSD_SOURCE on FreeBSD

commit 71f275b2aa04d9a9323a49d1421796c4d50b1436
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    typo fix

commit 6dc0d0af333592203fabd4746279bb15d2801c0b
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Remove _XOPEN_SOURCE macros from builds

commit 59a9e53378891be7b12ed304ccb609e27da70751
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Add _POSIX_C_SOURCE macro to FreeBSD build

commit 122768d339175c925a1a228792f4725b7c802f46
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    man: document default retry specification for supervise-daemon

commit fa3c60c0d8fd2267be5c1b156530b136a2503088
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    man: document default retry sppecification for start-stop-daemon

commit 61905bfcf560219939c902dbb8fe9bc5088a42cf
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Clean up cgroups v2 code
    
    Remove the IFS manipulation and simplify the loop that processes the
    settings.

commit 3e68013631765e00eddf118bc24e38254e7f6d64
Author: Scall <Scall@users.noreply.github.com>
Commit: Doug Freed <dwfreed@mtu.edu>

    init.d: swap should always be started after root
    
    Otherwise if a swap file is being used, and swap is started before
    root, swapon may fail because of a read-only filesystem.

commit b46123f2e19a5eb8dc02b898e8c20a2ccc211615
Author: Chris Cromer <cromerc@users.noreply.github.com>
Commit: Doug Freed <dwfreed@mtu.edu>

    openrc-run: fix memory size (#213)
    
    Fixes #212

commit 109869641f7b58d07819f6b65d7b085abf75083b
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    fix build on FreeBSD

commit e8a2305de0320dc98bf187bb97f936e2dc4a4554
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    version 0.36

commit f62975a1f8c4d5d4abdf78d8cad5509216138f03
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    Update ChangeLog

commit 5bb6f9aa318a6d0507971b74d88c3fd2803bae4b
Author: Jason Zaman <jason@perfinion.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    init.sh: apply SELinux label for /run early in boot
    
    Some initramfs mount /run which then ends up with the wrong labels.
    Force relabel all of /run right after its mounted to fix.

commit 1ab8541a6ccb9d72c6faeaf2d616fc49f6cdfaf6
Author: Jason Zaman <jason@perfinion.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    init-early.sh.Linux.in: apply the selinux label to /dev/console early
    
    /dev/console is relabelled later in the devfs init script, but by then we
    have already missed some of the messages, so fix that label early.

commit 038c03bef315314ddb1e460c67d29b2599b494ad
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    supervise-daemon: make an error message more verbose

commit e51dc29e2f3b2718a62347e8588115e786a9f3c8
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    cgroups: fix indentation

commit c6047f887a362cb8d96624fbd73484ca703acf53
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    cgroups: add rc_cgroup_memory_use_hierarchy setting for cgroups v1

commit 0506d68427e342366d826aae4bfbbc6cc0adecc2
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    fstabinfo: fix an error message

commit c3d666acaf51c771671b0fa54bd8ec0f5d29859e
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    openrc: remove unused #define's.

commit e93b1d76d150c4477015052fc3df9b94647e5b5d
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    openrc: convert another execl() call to execlp()

commit acf1e43f815898c4a4957db352f71f3fb629edf3
Author: William Hubbs <w.d.hubbs@gmail.com>
Commit: William Hubbs <w.d.hubbs@gmail.com>

    openrc-init: convert execl calls to execlp
